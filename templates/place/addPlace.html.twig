{% extends 'base.html.twig' %}

{% block title %}Music's Places{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
          integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
          crossorigin=""/>
    <link rel="stylesheet" href="{{ asset('styles/map.css') }}">
{% endblock %}

{% block body %}

    <h1 class="mt-5">Ajouter un lieu</h1>

    <div class="mt-3 mb-3">
        {{ form_start(form) }}
            {{ form_row(form.name) }}
            {% if place.id is null %}
                {{ form_row(form.owner) }}
            {% endif %}
            <div class="row">
                <div class="col-sm-8">
                    {{ form_row(form.email) }}
                </div>
                <div class="col-sm-4">
                    {{ form_row(form.phone) }}
                </div>
            </div>
            <div class="row">
                <div class="col-sm-2">
                    {{ form_row(form.streetNumber) }}
                </div>
                <div class="col-sm-10">
                    {{ form_row(form.streetName) }}
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    {{ form_row(form.zipCode) }}
                </div>
                <div class="col-sm-6">
                    {{ form_row((form.town)) }}
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    {{ form_row(form.lat) }}
                </div>
                <div class="col-sm-6">
                    {{ form_row(form.lon) }}
                </div>
            </div>
            <div>
                {{ form_row(form.description) }}
            </div>
            <div class="text-right">
                <button type="submit" class="btn btn-primary">
                    Enregistrer
                </button>
            </div>
        {{ form_end(form) }}

        <div>
            <p>En cas de soucis de localisation, rentrez vous même votre latitude et longitude via Google map en <a href="https://www.coordonnees-gps.fr/" target="_blank">cliquant ici</a> !</p>

            <button id="mapButton" class="btn-lg btn-block btn-outline-danger">
                Vérifier la position
            </button>
            <div>
                <div id="addMapId">

                </div>
            </div>

        </div>
    </div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
            integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
            crossorigin=""></script>
    <script src="{{ asset('js/addPlace.js') }}"></script>
{% endblock %}


